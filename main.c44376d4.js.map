{"version":3,"sources":["scripts/main.js"],"names":["tbody","document","querySelector","thead","titles","querySelectorAll","addEventListener","evnt","forEach","title","classList","contains","target","remove","toggle","index","cellIndex","sorted","rows","sort","a","b","cellA","cells","innerHTML","cellB","slice","replace","localeCompare","row","append","person","parentElement","add","form","createElement","label","titleName","textContent","toLowerCase","selectCity","city","option","name","dataset","qa","input","type","body","submitButton","preventDefault","data","FormData","dataObj","Object","fromEntries","entries","length","showNotification","age","salary","position","newRow","Number","toLocaleString","values","value","cell","field","description","message","desc","innerText","toUpperCase","setTimeout","text","focus","ev","key","blur"],"mappings":"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","file":"main.c44376d4.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst tbody = document.querySelector('tbody');\nconst thead = document.querySelector('thead');\nconst titles = thead.querySelectorAll('th');\n\n// #region Sort\nthead.addEventListener('click', (evnt) => {\n  titles.forEach((title) => {\n    if (title.classList.contains('asc') && title !== evnt.target) {\n      title.classList.remove('asc');\n    }\n  });\n\n  evnt.target.classList.toggle('asc');\n\n  const index = evnt.target.cellIndex;\n  const sorted = [...tbody.rows].sort((a, b) => {\n    let cellA = a.cells[index].innerHTML;\n    let cellB = b.cells[index].innerHTML;\n\n    if (index === 4) {\n      cellA = +cellA.slice(1).replace(',', '');\n      cellB = +cellB.slice(1).replace(',', '');\n\n      if (evnt.target.classList.contains('asc')) {\n        return cellA - cellB;\n      } else {\n        return cellB - cellA;\n      }\n    }\n\n    if (index === 3) {\n      if (evnt.target.classList.contains('asc')) {\n        return cellA - cellB;\n      } else {\n        return cellB - cellA;\n      }\n    }\n\n    if (evnt.target.classList.contains('asc')) {\n      return cellA.localeCompare(cellB);\n    } else {\n      return cellB.localeCompare(cellA);\n    }\n  });\n\n  tbody.innerHTML = '';\n\n  sorted.forEach((row) => {\n    tbody.append(row);\n  });\n});\n// #endregion\n\n// #region Select\ntbody.addEventListener('click', (evnt) => {\n  [...tbody.rows].forEach((person) => {\n    person.classList.remove('active');\n  });\n\n  evnt.target.parentElement.classList.add('active');\n});\n// #endregion\n\n// #region Form\nconst form = document.createElement('form');\n\ntitles.forEach((title) => {\n  const label = document.createElement('label');\n  const titleName = title.textContent.toLowerCase();\n\n  label.textContent = title.textContent;\n\n  if (title.textContent === 'Office') {\n    const selectCity = document.createElement('select');\n    const cityList = [\n      `Tokyo`,\n      `Singapore`,\n      `London`,\n      `New York`,\n      `Edinburgh`,\n      `San Francisco`,\n    ];\n\n    cityList.forEach((city) => {\n      const option = document.createElement('option');\n\n      option.textContent = city;\n      selectCity.append(option);\n    });\n\n    selectCity.name = titleName;\n    selectCity.dataset.qa = titleName;\n\n    label.append(selectCity);\n  } else {\n    const input = document.createElement('input');\n\n    if (title.textContent === 'Age' || title.textContent === 'Salary') {\n      input.type = 'number';\n    } else {\n      input.type = 'text';\n    }\n\n    input.name = titleName;\n    input.dataset.qa = titleName;\n\n    label.append(input);\n  }\n\n  form.append(label);\n});\n\nform.classList.add('new-employee-form');\ndocument.body.append(form);\n// #endregion\n\n// #region submitButton\nconst submitButton = document.createElement('button');\n\nsubmitButton.textContent = 'Save to table';\nform.append(submitButton);\n\nsubmitButton.addEventListener('click', (evnt) => {\n  evnt.preventDefault();\n\n  const data = new FormData(form);\n  const dataObj = Object.fromEntries(data.entries());\n\n  if (dataObj.name.length < 4) {\n    showNotification('error', 'Name value should have more than 4 letters');\n  } else if (+dataObj.age < 18 || +dataObj.age > 90) {\n    showNotification(\n      'error',\n      'Age value is not valid. Employee must be an adult'\n    );\n  } else if (dataObj.salary < 0) {\n    showNotification(\n      'error',\n      'Salary value is not valid. It must be more than zero'\n    );\n  } else if (!dataObj.position || !dataObj.salary) {\n    showNotification('error', 'All fields are required');\n  } else {\n    showNotification('success', 'Employee is successfully added');\n\n    const newRow = document.createElement('tr');\n\n    dataObj.salary = '$' + Number(dataObj.salary).toLocaleString('en-US');\n\n    const values = Object.values(dataObj);\n\n    values.forEach((value) => {\n      const cell = document.createElement('td');\n\n      cell.textContent = value;\n      newRow.append(cell);\n    });\n\n    tbody.append(newRow);\n\n    form.querySelectorAll('input').forEach((field) => {\n      field.value = '';\n    });\n  }\n});\n// #endregion\n\n// #region Notification\nconst showNotification = (type, description) => {\n  const message = document.createElement('div');\n  const title = document.createElement('h2');\n  const desc = document.createElement('p');\n\n  message.classList.add('notification', type);\n  message.dataset.qa = 'notification';\n\n  title.innerText = type.toUpperCase();\n  desc.innerText = description;\n\n  message.append(title, desc);\n  document.querySelector('body').append(message);\n\n  setTimeout(() => {\n    message.remove();\n  }, 3000);\n};\n// #endregion\n\n// #region Edit by double-clicking\ntbody.addEventListener('dblclick', (evnt) => {\n  const text = evnt.target.textContent;\n  const index = evnt.target.cellIndex;\n\n  evnt.target.textContent = '';\n\n  let input = document.createElement('input');\n\n  input.classList.add('.cell-input');\n\n  if (index === 2) {\n    const selectCity = document.createElement('select');\n    const cityList = [\n      `Tokyo`,\n      `Singapore`,\n      `London`,\n      `New York`,\n      `Edinburgh`,\n      `San Francisco`,\n    ];\n\n    cityList.forEach((option) => {\n      const city = document.createElement('option');\n\n      city.textContent = option;\n      selectCity.append(city);\n    });\n    input = selectCity;\n  }\n\n  evnt.target.append(input);\n  input.focus();\n\n  input.addEventListener('blur', () => {\n    switch (index) {\n      case 0:\n        if (input.value.length < 4) {\n          showNotification(\n            'error',\n            'Name value should have more than 4 letters'\n          );\n          evnt.target.textContent = text;\n        } else {\n          evnt.target.textContent = input.value;\n        }\n        break;\n\n      case 1:\n        if (input.value) {\n          evnt.target.textContent = input.value;\n        } else {\n          showNotification('error', 'All fields are required');\n          evnt.target.textContent = text;\n        }\n        break;\n\n      case 2:\n        if (input.value) {\n          evnt.target.textContent = input.value;\n        } else {\n          evnt.target.textContent = text;\n        }\n        break;\n\n      case 3:\n        if (input.value < 18 || input.value > 90) {\n          showNotification(\n            'error',\n            'Age value is not valid. Employee must be an adult'\n          );\n\n          evnt.target.textContent = text;\n        } else {\n          evnt.target.textContent = input.value;\n        }\n        break;\n\n      case 4:\n        if (input.value && input.value > 0) {\n          evnt.target.textContent\n            = '$' + Number(input.value).toLocaleString('en-US');\n        } else {\n          showNotification(\n            'error',\n            'Salary value is not valid. It must be more than zero'\n          );\n          evnt.target.textContent = text;\n        }\n        break;\n    }\n    input.remove();\n  });\n\n  input.addEventListener('keydown', (ev) => {\n    if (ev.key === 'Enter') {\n      input.blur();\n    }\n  });\n});\n// #endregion\n"]}